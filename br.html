<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        body {
            background-color:#e7b2b2;        
        }
        .form-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 20px;
        }
        form {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 40%; /* Increased the width */
            overflow: hidden; /* Prevent scrolling */
        }
        form h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        form .form-group {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        form .form-group label {
            width: 150px; /* Fixed width for labels */
            font-size: 16px;
        }
        form .form-group input,
        form .form-group select,
        form .form-group textarea {
            width: calc(100% - 160px); /* Adjust width to fit the container */
            padding: 7px;
            border-radius: 30px;
            border: 1px solid #ddd;
        }
        form button {
            background-color: #e50000;
            color: white;
            padding: 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }
        form button:hover {
            background-color: #c40000;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <form id="registration-form">
            <h2>Donor or Receiver Registration</h2>
            <div class="form-group">
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" name="dob" required>
            </div>
            <div class="form-group">
                <label for="blood-type">Blood Type:</label>
                <select id="blood-type" name="blood-type" required>
                    <option value="">Select Blood Type</option>
                    <option value="A+">A+</option>
                    <option value="B+">B+</option>
                    <option value="O+">O+</option>
                    <option value="AB+">AB+</option>
                    <option value="A-">A-</option>
                    <option value="B-">B-</option>
                    <option value="O-">O-</option>
                    <option value="AB-">AB-</option>
                </select>
            </div>
            <div class="form-group">
                <label for="pincode">Pincode:</label>
                <input type="text" id="pincode" name="pincode" pattern="\d{6}" title="Enter a valid 6-digit pincode" required>
            </div>
            <div class="form-group">
                <label for="city">City:</label>
                <select id="city" name="city" required>
                    <option value="">Select City</option>
                    <option value="Chennai">Chennai</option>
                    <option value="Mumbai">Mumbai</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Bangalore">Bangalore</option>
                    <option value="Hyderabad">Hyderabad</option>
                    <option value="Ahmedabad">Ahmedabad</option>
                    <option value="Kolkata">Kolkata</option>
                    <option value="Pune">Pune</option>
                    <option value="Jaipur">Jaipur</option>
                    <option value="Lucknow">Lucknow</option>
                </select>
            </div>
            <div class="form-group">
                <label for="state">State:</label>
                <select id="state" name="state" required>
                    <option value="">Select State</option>
                    <option value="Tamil Nadu">Tamil Nadu</option>
                    <option value="Maharashtra">Maharashtra</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Karnataka">Karnataka</option>
                    <option value="Telangana">Telangana</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="West Bengal">West Bengal</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                </select>
            </div>
            <div class="form-group">
                <label for="donation-center">Preferred Donation Center:</label>
                <select id="donation-center" name="donation-center" required>
                    <option value="">Select Donation Center</option>
                    <option value="Apollo Hospital, Chennai">Apollo Hospital, Chennai</option>
                    <option value="BloodCare Center, Chennai">BloodCare Center, Chennai</option>
                    <option value="City Blood Bank, Mumbai">City Blood Bank, Mumbai</option>
                    <option value="Lifeline Donation Center, Mumbai">Lifeline Donation Center, Mumbai</option>
                    <option value="Max Hospital Blood Bank, Delhi">Max Hospital Blood Bank, Delhi</option>
                    <option value="Red Cross Society, Delhi">Red Cross Society, Delhi</option>
                    <option value="Narayana Health, Bangalore">Narayana Health, Bangalore</option>
                    <option value="NIMS Blood Bank, Hyderabad">NIMS Blood Bank, Hyderabad</option>
                    <option value="Ahmedabad Civil Hospital, Ahmedabad">Ahmedabad Civil Hospital, Ahmedabad</option>
                    <option value="Ruby Hall Clinic, Pune">Ruby Hall Clinic, Pune</option>
                </select>
            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <textarea id="address" name="address" rows="4" required></textarea>
            </div>
            <button type="submit">Submit</button>
        </form>
    </div>

    <script>
        $(document).ready(function() {
            $("#pincode").on("input", function() {
                let pincode = $(this).val();
                if (pincode.length === 6) {
                    fetchPincodeDetails(pincode);
                }
            });

            $("#registration-form").on("submit", function(event) {
                event.preventDefault();
                let name = $("#name").val();
                let bloodType = $("#blood-type").val();
                let city = $("#city").val();
                let state = $("#state").val();
                let address = $("#address").val();

                let newWindow = window.open("", "_blank");
                newWindow.document.write("<h1>Registration Successful</h1>");
                newWindow.document.write("<p><strong>Donor Name:</strong> " + name + "</p>");
                newWindow.document.write("<p><strong>Blood Type:</strong> " + bloodType + "</p>");
                newWindow.document.write("<p><strong>City:</strong> " + city + "</p>");
                newWindow.document.write("<p><strong>State:</strong> " + state + "</p>");
                newWindow.document.write("<p><strong>Address:</strong> " + address + "</p>");
                newWindow.document.write("<p>Successfully Donated!</p>");
            });
        });

        function fetchPincodeDetails(pincode) {
            const pincodeData = {
                "600107": { city: "Chennai", state: "Tamil Nadu" },
                "400001": { city: "Mumbai", state: "Maharashtra" },
                "110001": { city: "New Delhi", state: "Delhi" }
            };

            if (pincodeData[pincode]) {
                $("#city").val(pincodeData[pincode].city);
                $("#state").val(pincodeData[pincode].state);
                updateDonationCenters(pincodeData[pincode].city);
            }
        }

        function updateDonationCenters(city) {
            const donationCenters = {
                "Chennai": ["Apollo Hospital", "BloodCare Center"],
                "Mumbai": ["City Blood Bank", "Lifeline Donation Center"],
                "Delhi": ["Max Hospital Blood Bank", "Red Cross Society"],
                "Bangalore": ["Narayana Health"],
                "Hyderabad": ["NIMS Blood Bank"],
                "Ahmedabad": ["Ahmedabad Civil Hospital"],
                "Pune": ["Ruby Hall Clinic"]
            };
            let centerDropdown = $("#donation-center");
            centerDropdown.empty().append(new Option("Select Donation Center", ""));
            if (donationCenters[city]) {
                donationCenters[city].forEach(center => {
                    centerDropdown.append(new Option(center, center));
                });
            }
        }
    </script>
</body>
</html>
